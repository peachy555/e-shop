{"ast":null,"code":"import _objectSpread from \"/Users/peachtuntiwong/projects/e-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport fetch from 'isomorphic-fetch';\n\nrequire('es6-promise').polyfill();\n\nexport default function fetchApi(method, url, data) {\n  const body = method.toLowerCase() === 'get' ? {} : {\n    body: JSON.stringify(data)\n  };\n  return fetch(url, _objectSpread({\n    method,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'X-Requested-With': 'XMLHttpRequest'\n    },\n    credentials: 'same-origin'\n  }, body)).then(response => response.json());\n}","map":{"version":3,"sources":["/Users/peachtuntiwong/projects/e-shop/src/modules/fetch-api.js"],"names":["fetch","require","polyfill","fetchApi","method","url","data","body","toLowerCase","JSON","stringify","headers","credentials","then","response","json"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,kBAAlB;;AAEAC,OAAO,CAAC,aAAD,CAAP,CAAuBC,QAAvB;;AAEA,eAAe,SAASC,QAAT,CAAkBC,MAAlB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACnD,QAAMC,IAAI,GAAGH,MAAM,CAACI,WAAP,OAAyB,KAAzB,GAAiC,EAAjC,GAAsC;AAAED,IAAAA,IAAI,EAAEE,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAAR,GAAnD;AAEA,SAAON,KAAK,CAACK,GAAD;AACXD,IAAAA,MADW;AAEXO,IAAAA,OAAO,EAAE;AACR,gBAAU,kBADF;AAER,sBAAgB,kBAFR;AAGR,0BAAoB;AAHZ,KAFE;AAOXC,IAAAA,WAAW,EAAE;AAPF,KAQRL,IARQ,EAAL,CASJM,IATI,CASCC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EATb,CAAP;AAUA","sourcesContent":["import fetch from 'isomorphic-fetch'\n\nrequire('es6-promise').polyfill()\n\nexport default function fetchApi(method, url, data) {\n\tconst body = method.toLowerCase() === 'get' ? {} : { body: JSON.stringify(data) }\n\n\treturn fetch(url, {\n\t\tmethod,\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t},\n\t\tcredentials: 'same-origin',\n\t\t...body,\n\t}).then(response => response.json())\n}"]},"metadata":{},"sourceType":"module"}